(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{42:(e,r,t)=>{Promise.resolve().then(t.bind(t,7902))},350:(e,r,t)=>{"use strict";t.d(r,{p:()=>n});var a=t(5155);t(2115);var i=t(9433);function n(e){let{className:r,type:t,...n}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...n})}},692:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var a=t(2115),i={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function n(e){var r=function(e){if("number"==typeof e)return{value:e,unit:"px"};var r,t=(e.match(/^[0-9.]*/)||"").toString();r=t.includes(".")?parseFloat(t):parseInt(t,10);var a=(e.match(/[^0-9]*$/)||"").toString();return i[a]?{value:r,unit:a}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(r,"px.")),{value:r,unit:"px"})}(e);return"".concat(r.value).concat(r.unit)}var o=function(){return(o=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);return e}).apply(this,arguments)},l=function(e,r){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>r.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>r.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(t[a[i]]=e[a[i]]);return t},s=function(e,r,t){var a="react-spinners-".concat(e,"-").concat(t);if("undefined"==typeof window||!window.document)return a;var i=document.createElement("style");document.head.appendChild(i);var n=i.sheet,o="\n    @keyframes ".concat(a," {\n      ").concat(r,"\n    }\n  ");return n&&n.insertRule(o,0),a}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");let d=function(e){var r=e.loading,t=e.color,i=void 0===t?"#000000":t,d=e.speedMultiplier,c=e.cssOverride,u=e.size,p=void 0===u?35:u,m=l(e,["loading","color","speedMultiplier","cssOverride","size"]),f=o({background:"transparent !important",width:n(p),height:n(p),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(s," ").concat(.75/(void 0===d?1:d),"s 0s infinite linear"),animationFillMode:"both"},void 0===c?{}:c);return void 0===r||r?a.createElement("span",o({style:f},m)):null}},968:(e,r,t)=>{"use strict";t.d(r,{b:()=>l});var a=t(2115),i=t(3655),n=t(5155),o=a.forwardRef((e,r)=>(0,n.jsx)(i.sG.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null==(t=e.onMouseDown)||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));o.displayName="Label";var l=o},1978:(e,r,t)=>{"use strict";t.d(r,{$:()=>s});var a=t(5155);t(2115);var i=t(9708),n=t(2085),o=t(9433);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function s(e){let{className:r,variant:t,size:n,asChild:s=!1,...d}=e,c=s?i.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,o.cn)(l({variant:t,size:n,className:r})),...d})}},3655:(e,r,t)=>{"use strict";t.d(r,{hO:()=>s,sG:()=>l});var a=t(2115),i=t(7650),n=t(9708),o=t(5155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let t=(0,n.TL)(`Primitive.${r}`),i=a.forwardRef((e,a)=>{let{asChild:i,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(i?t:r,{...n,ref:a})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{});function s(e,r){e&&i.flushSync(()=>e.dispatchEvent(r))}},7267:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>l,iD:()=>i,r7:()=>o,ri:()=>n});let a=(0,t(6439).Z0)({name:"auth",initialState:{user:null},reducers:{login:(e,r)=>{e.user=r.payload},updateProfile(e,r){e.user={...e.user,...r.payload}},logout:e=>{e.user=null}}}),{login:i,logout:n,updateProfile:o}=a.actions,l=a.reducer},7902:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var a=t(5155),i=t(2115);let n=(0,t(9946).A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var o=t(1978),l=t(350),s=t(7904),d=t(4540),c=t(6671),u=t(7267),p=t(692);function m(){let e=(0,d.wA)(),[r,t]=(0,i.useState)(!1),[m,f]=(0,i.useState)(!1),[h,v]=(0,i.useState)({profileImage:"",profileImageFile:null,firstName:"",lastName:"",phone:"",email:""}),g=(0,i.useRef)(null),b=(0,d.d4)(e=>e.auth.user);console.log("\uD83D\uDE80 ~ Profile ~ user:",b),(0,i.useEffect)(()=>{f(!0),b&&v({profileImage:"".concat("http://35.202.100.254/oe","/").concat(b.profile_image)||0,profileImageFile:null,firstName:b.first_name||"",lastName:b.last_name||"",phone:b.mobile_number||"",email:b.email||""})},[b]);let x=e=>{let{id:r,value:t}=e.target;v(e=>({...e,[r]:t}))},y=async r=>{r.preventDefault();try{t(!0);let r=new FormData;r.append("email",h.email),r.append("first_name",h.firstName),r.append("last_name",h.lastName),r.append("mobile_number",h.phone),h.profileImageFile&&r.append("profile_image",h.profileImageFile);let a=await fetch("".concat("http://35.202.100.254/oe","/api/admin/update-user-profile"),{method:"POST",body:r});if(!a.ok)throw Error("Failed to update profile");let i=await a.json();console.log("\uD83D\uDE80 ~ handleSubmit ~ data:",i),e((0,u.r7)(i.userdata)),t(!1),c.o.success(null==i?void 0:i.message)}catch(e){t(!1),console.error("Error updating profile:",e.message),c.o.error(e.message||"Failed to update profile")}};return m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("title",{children:"Concise-5 | User Profile"}),(0,a.jsx)("section",{className:"flex justify-center items-center",children:(0,a.jsxs)("form",{onSubmit:y,className:"space-y-6 p-5 max-w-md w-full",children:[(0,a.jsx)("div",{className:"flex flex-col items-center",children:(0,a.jsxs)("div",{className:"relative mb-6",children:[(0,a.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-200",style:{backgroundImage:"url(".concat(h.profileImage||"/assets/images/no-image.png",")"),backgroundSize:"cover",backgroundPosition:"center"}}),(0,a.jsx)("button",{type:"button",onClick:()=>{var e;null==(e=g.current)||e.click()},className:"absolute  bottom-0 right-0 bg-blue-700  text-white p-2 rounded-full shadow-md hover:bg-primary/90 transition-colors","aria-label":"Upload new profile picture",children:(0,a.jsx)(n,{className:"h-4 w-4"})}),(0,a.jsx)("input",{ref:g,type:"file",accept:"image/*",onChange:e=>{var r;let t=null==(r=e.target.files)?void 0:r[0];t&&v(e=>({...e,profileImage:URL.createObjectURL(t),profileImageFile:t}))},className:"hidden","aria-label":"Upload profile picture"})]})}),(0,a.jsxs)("div",{className:"space-y-4 flex flex-col",children:[(0,a.jsxs)("div",{className:"space-y-3 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(s.J,{htmlFor:"firstName",children:"First Name"}),(0,a.jsx)(l.p,{id:"firstName",value:h.firstName,onChange:x,placeholder:"John",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(s.J,{htmlFor:"lastName",children:"Last Name"}),(0,a.jsx)(l.p,{id:"lastName",value:h.lastName,onChange:x,placeholder:"Doe",required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(s.J,{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)(l.p,{id:"phone",value:h.phone,onChange:x,placeholder:"+1 (555) 123-4567",type:"tel",required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(s.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)(l.p,{id:"email",value:h.email,disabled:!0,placeholder:"john.doe@example.com",type:"email",required:!0})]})]}),(0,a.jsx)(o.$,{disabled:r,type:"submit",className:"w-full cursor-pointer bg-blue-700 hover:bg-blue-600",children:r?(0,a.jsx)(p.A,{color:"white",size:20}):"Save"})]})})]}):null}},7904:(e,r,t)=>{"use strict";t.d(r,{J:()=>o});var a=t(5155);t(2115);var i=t(968),n=t(9433);function o(e){let{className:r,...t}=e;return(0,a.jsx)(i.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}},9433:(e,r,t)=>{"use strict";t.d(r,{Yq:()=>l,al:()=>o,cn:()=>n,pp:()=>s});var a=t(2596),i=t(9688);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,i.QP)((0,a.$)(r))}let o=async(e,r)=>{try{let t=await fetch("".concat("http://35.202.100.254/oe","/api/admin/get-count-of-lib-and-avg-rating"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,user_type:"manager"===r?r:"user"})});if(!t.ok)throw Error("Error ".concat(t.status,": ").concat(t.statusText));return(await t.json()).data}catch(e){return console.error("Failed to fetch count and rating:",e),null}},l=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),s=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},9946:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var a=t(2115);let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),o=e=>{let r=n(e);return r.charAt(0).toUpperCase()+r.slice(1)},l=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},s=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:u,iconNode:p,...m}=e;return(0,a.createElement)("svg",{ref:r,...d,width:i,height:i,stroke:t,strokeWidth:o?24*Number(n)/Number(i):n,className:l("lucide",c),...!u&&!s(m)&&{"aria-hidden":"true"},...m},[...p.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(u)?u:[u]])}),u=(e,r)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:s,...d}=t;return(0,a.createElement)(c,{ref:n,iconNode:r,className:l("lucide-".concat(i(o(e))),"lucide-".concat(e),s),...d})});return t.displayName=o(e),t}}},e=>{var r=r=>e(e.s=r);e.O(0,[4540,2848,6439,6774,8441,1684,7358],()=>r(42)),_N_E=e.O()}]);