(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4662],{350:(e,a,t)=>{"use strict";t.d(a,{p:()=>s});var n=t(5155);t(2115);var r=t(9433);function s(e){let{className:a,type:t,...s}=e;return(0,n.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...s})}},1978:(e,a,t)=>{"use strict";t.d(a,{$:()=>i});var n=t(5155);t(2115);var r=t(9708),s=t(2085),o=t(9433);let l=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:a,variant:t,size:s,asChild:i=!1,...c}=e,d=i?r.DX:"button";return(0,n.jsx)(d,{"data-slot":"button",className:(0,o.cn)(l({variant:t,size:s,className:a})),...c})}},3800:(e,a,t)=>{"use strict";t.d(a,{Wu:()=>i,ZB:()=>l,Zp:()=>s,aR:()=>o,wL:()=>c});var n=t(5155);t(2115);var r=t(9433);function s(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...t})}function o(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...t})}function l(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...t})}function i(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...t})}function c(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",a),...t})}},5178:(e,a,t)=>{"use strict";t.d(a,{Cf:()=>g,Es:()=>h,HM:()=>d,L3:()=>p,c7:()=>m,lG:()=>l,rr:()=>f,zM:()=>i});var n=t(5155);t(2115);var r=t(5452),s=t(4416),o=t(9433);function l(e){let{...a}=e;return(0,n.jsx)(r.bL,{"data-slot":"dialog",...a})}function i(e){let{...a}=e;return(0,n.jsx)(r.l9,{"data-slot":"dialog-trigger",...a})}function c(e){let{...a}=e;return(0,n.jsx)(r.ZL,{"data-slot":"dialog-portal",...a})}function d(e){let{...a}=e;return(0,n.jsx)(r.bm,{"data-slot":"dialog-close",...a})}function u(e){let{className:a,...t}=e;return(0,n.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...t})}function g(e){let{className:a,children:t,...l}=e;return(0,n.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,n.jsx)(u,{}),(0,n.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...l,children:[t,(0,n.jsxs)(r.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(s.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",a),...t})}function h(e){let{className:a,...t}=e;return(0,n.jsx)("div",{"data-slot":"dialog-footer",className:(0,o.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",a),...t})}function p(e){let{className:a,...t}=e;return(0,n.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",a),...t})}function f(e){let{className:a,...t}=e;return(0,n.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",a),...t})}},5427:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var n=t(5155),r=t(2115),s=t(1978),o=t(350),l=t(3800),i=t(3453),c=t(227),d=t(5690),u=t(4635),g=t.n(u);let m={aa:"dj",ab:"ge",ae:"ir",af:"af",ak:"gh",am:"et",an:"es",ar:"sa",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cu:null,cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"gb",eo:null,es:"es",et:"ee",eu:"es",fa:"ir",ff:null,fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"im",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",hz:"na",ia:null,id:"id",ie:null,ig:"ng",ii:"cn",ik:"us",io:null,is:"is",it:"it",iu:"ca",ja:"jp",jv:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",kr:"ng",ks:"in",ku:"iq",kv:"ru",kw:"gb",ky:"kg",la:null,lb:"lu",lg:"ug",li:"nl",ln:"cg",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"ao",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",oj:"ca",om:"et",or:"in",os:"ru",pa:"in",pi:"in",pl:"pl",ps:"af",pt:"pt",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sc:"it",sd:"pk",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"sz",st:"ls",su:"id",sv:"se",sw:"tz",ta:"lk",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"bw",to:"to",tr:"tr",ts:"za",tt:"ru",tw:"gh",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",vo:null,wa:"be",wo:"sn",xh:"za",yi:null,yo:"ng",za:"cn",zh:"cn",zu:"za"},h=[{name:"alloy"},{name:"ash"},{name:"ballad"},{name:"coral"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"sage"},{name:"shimmer"}];var p=t(4540),f=t(5874),x=t(6671),v=t(5178);function b(){let[e,a]=(0,r.useState)(null),[t,u]=(0,r.useState)(!1),b=(0,p.wA)(),{language:j,voice:y}=(0,p.d4)(e=>e.settings),[w,k]=(0,r.useState)(""),[N,C]=(0,r.useState)(""),z=g().getAllCodes().map(e=>{let a=m[e];return{value:e,label:g().getName(e),flag:a?"https://flagcdn.com/w20/".concat(a.toLowerCase(),".png"):null}}).sort((e,a)=>e.label.localeCompare(a.label)).filter(e=>e.label.toLowerCase().includes(w.toLowerCase())||e.value.toLowerCase().includes(w.toLowerCase())).sort((e,a)=>e.value===j?-1:a.value===j?1:e.label.localeCompare(a.label)),S=h.filter(e=>e.name.toLowerCase().includes(N.toLowerCase())).sort((e,a)=>e.name===y?-1:a.name===y?1:e.name.localeCompare(a.name)),L=async e=>{a(e);try{let t=await fetch("/api/speech",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:"Today is a wonderful day to build something people love!",voice:e})});if(!t.ok)throw Error("Failed to fetch audio");let n=await t.blob(),r=URL.createObjectURL(n),s=new Audio(r);s.play(),s.onended=()=>{a(null)}}catch(e){console.error("Error fetching audio:",e),x.o.error("Failed to load audio. Please try again."),a(null)}},_=()=>{b((0,f.xC)(j)),b((0,f.LO)(y)),x.o.success("Settings Updated"),console.log("Saving settings:",{language:j,voice:y})},A=async()=>{console.log("deleting....")};return(0,n.jsxs)("section",{className:"container mx-auto p-4 space-y-8",children:[(0,n.jsxs)(l.Zp,{children:[(0,n.jsxs)(l.aR,{className:"md:text-center",children:[(0,n.jsx)(l.ZB,{children:"Choose Preferred Language"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"How would you like to listen?"})]}),(0,n.jsxs)(l.Wu,{className:"space-y-4",children:[(0,n.jsx)(o.p,{placeholder:"Search languages...",value:w,onChange:e=>k(e.target.value)}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 max-h-64 overflow-y-auto",children:z.map(e=>(0,n.jsxs)("div",{className:"flex relative border items-center p-2 rounded-md cursor-pointer hover:bg-accent ".concat(j===e.value?"bg-accent border-green-600":""),onClick:()=>b((0,f.xC)(e.value)),children:[e.flag?(0,n.jsx)("img",{src:e.flag,alt:"".concat(e.label," flag"),className:"w-4 h-3 mr-2",onError:a=>{console.warn("Flag not found for ".concat(e.value)),a.currentTarget.style.display="none"}}):(0,n.jsx)("span",{className:"w-4 h-3 mr-2"}),(0,n.jsx)("span",{children:e.label}),j===e.value&&(0,n.jsx)("div",{className:" absolute right-2",children:(0,n.jsx)(i.A,{className:"text-green-600"})})]},e.value))}),(0,n.jsx)(s.$,{className:"bg-blue-600 w-full hover:bg-blue-700 cursor-pointer",onClick:_,children:"Save"})]})]}),(0,n.jsxs)(l.Zp,{children:[(0,n.jsxs)(l.aR,{children:[(0,n.jsx)(l.ZB,{children:"Choose Preferred Voice"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"How would you like to listen?"})]}),(0,n.jsxs)(l.Wu,{className:"space-y-4",children:[(0,n.jsx)(o.p,{placeholder:"Search voices...",value:N,onChange:e=>C(e.target.value)}),(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2 max-h-64 overflow-y-auto",children:S.map(a=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-2 border rounded-md cursor-pointer hover:bg-accent ".concat(y===a.name?"bg-accent border-green-600":""),onClick:()=>b((0,f.LO)(a.name)),children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(c.A,{className:"w-4 h-4 mr-2"}),(0,n.jsx)("span",{children:a.name})]}),(0,n.jsx)(s.$,{className:"border rounded-full hover:bg-slate-700 bg-black cursor-pointer",variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),L(a.name)},children:e===a.name?(0,n.jsx)("span",{className:"animate-spin",children:(0,n.jsx)(d.A,{className:"w-4 h-4 text-white"})}):(0,n.jsx)(d.A,{className:"w-4 h-4 text-white"})})]},a.name))}),(0,n.jsx)(s.$,{className:"bg-blue-600 w-full hover:bg-blue-700 cursor-pointer",onClick:_,children:"Save"})]})]}),(0,n.jsxs)(l.Zp,{children:[(0,n.jsxs)(l.aR,{children:[(0,n.jsx)(l.ZB,{children:"Deactivate Account"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Here you can deactivate your account!"})]}),(0,n.jsx)(l.Wu,{className:"space-y-4",children:(0,n.jsxs)(v.lG,{open:t,onOpenChange:u,children:[(0,n.jsx)(v.zM,{asChild:!0,children:(0,n.jsx)(s.$,{className:"bg-red-600 w-full hover:bg-red-700 cursor-pointer",children:"Deactivate"})}),(0,n.jsxs)(v.Cf,{children:[(0,n.jsxs)(v.c7,{children:[(0,n.jsx)(v.L3,{children:"Confirm Account Deactivation"}),(0,n.jsx)(v.rr,{children:"Are you sure you want to deactivate your account? This action cannot be undone."})]}),(0,n.jsxs)(v.Es,{children:[(0,n.jsx)(s.$,{variant:"outline",className:"cursor-pointer",onClick:()=>u(!1),children:"No"}),(0,n.jsx)(s.$,{className:"bg-red-600 hover:bg-red-700 cursor-pointer",onClick:A,children:"Yes"})]})]})]})})]})]})}},5874:(e,a,t)=>{"use strict";t.d(a,{Ay:()=>o,LO:()=>s,xC:()=>r});let n=(0,t(6439).Z0)({name:"settings",initialState:{language:localStorage.getItem("language")||"en",voice:localStorage.getItem("voice")||"alloy"},reducers:{setLanguage:(e,a)=>{e.language=a.payload,localStorage.setItem("language",a.payload)},setVoice:(e,a)=>{e.voice=a.payload,localStorage.setItem("voice",a.payload)}}}),{setLanguage:r,setVoice:s}=n.actions,o=n.reducer},5986:(e,a,t)=>{Promise.resolve().then(t.bind(t,5427))},9433:(e,a,t)=>{"use strict";t.d(a,{Yq:()=>l,al:()=>o,cn:()=>s,pp:()=>i});var n=t(2596),r=t(9688);function s(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,n.$)(a))}let o=async(e,a)=>{try{let t=await fetch("".concat("http://35.202.100.254/oe","/api/admin/get-count-of-lib-and-avg-rating"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,user_type:"manager"===a?a:"user"})});if(!t.ok)throw Error("Error ".concat(t.status,": ").concat(t.statusText));return(await t.json()).data}catch(e){return console.error("Failed to fetch count and rating:",e),null}},l=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),i=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}},e=>{var a=a=>e(e.s=a);e.O(0,[4540,2848,6439,6774,7222,8250,3192,8441,1684,7358],()=>a(5986)),_N_E=e.O()}]);