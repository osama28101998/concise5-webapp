(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{350:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(5155);a(2115);var r=a(9433);function i(e){let{className:t,type:a,...i}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...i})}},464:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var s=a(4540),r=a(5695),i=a(2115);function n(e){let{children:t}=e,a=(0,s.d4)(e=>e.auth.user),n=(0,r.usePathname)(),o=(0,r.useRouter)(),[l,d]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{let e=["/dashboard","/profile","/tasks","/users","/reports","/settings","/personal-library","/team-activity","/settings"].some(e=>n.startsWith(e)),t=["/tasks"].some(e=>n.startsWith(e)),s=["/users","/reports"].some(e=>n.startsWith(e));!a&&e?(console.log("object"),(0,r.redirect)("/auth/login")):a&&t&&"enterprise"!==a.role||a&&s&&"manager"!==a.role?(0,r.redirect)("/dashboard"):d(!1)},[a,n,o]),t}},801:(e,t,a)=>{Promise.resolve().then(a.bind(a,9761)),Promise.resolve().then(a.t.bind(a,9324,23)),Promise.resolve().then(a.bind(a,464)),Promise.resolve().then(a.bind(a,2047)),Promise.resolve().then(a.bind(a,4039)),Promise.resolve().then(a.t.bind(a,5135,23)),Promise.resolve().then(a.t.bind(a,2517,23)),Promise.resolve().then(a.bind(a,6671))},1680:(e,t,a)=>{"use strict";a.d(t,{$m:()=>d,As:()=>l,nD:()=>o,ub:()=>c});var s=a(5155);a(2115);var r=a(3478),i=a(6474),n=a(9433);function o(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"accordion",...t})}function l(e){let{className:t,...a}=e;return(0,s.jsx)(r.q7,{"data-slot":"accordion-item",className:(0,n.cn)("border-b last:border-b-0",t),...a})}function d(e){let{className:t,children:a,...o}=e;return(0,s.jsx)(r.Y9,{className:"flex",children:(0,s.jsxs)(r.l9,{"data-slot":"accordion-trigger",className:(0,n.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...o,children:[a,(0,s.jsx)(i.A,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function c(e){let{className:t,children:a,...i}=e;return(0,s.jsx)(r.UC,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...i,children:(0,s.jsx)("div",{className:(0,n.cn)("pt-0 pb-4",t),children:a})})}},1978:(e,t,a)=>{"use strict";a.d(t,{$:()=>l});var s=a(5155);a(2115);var r=a(9708),i=a(2085),n=a(9433);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:i,asChild:l=!1,...d}=e,c=l?r.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,n.cn)(o({variant:a,size:i,className:t})),...d})}},2047:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(5155),r=a(2115),i=a(5695),n=a(6925),o=a.n(n);let l=()=>{let e=(0,i.useRouter)(),[t,a]=(0,r.useState)(!1),[n,l]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),u=window.SpeechRecognition||window.webkitSpeechRecognition,p=u?new u:null,f=e=>{if("speechSynthesis"in window){let t=new SpeechSynthesisUtterance(e);window.speechSynthesis.cancel(),window.speechSynthesis.speak(t)}};(0,r.useEffect)(()=>{if(!p){let e="Speech recognition is not supported in this browser. Please use Chrome or Edge.";c(e),f(e);return}return p.continuous=!1,p.interimResults=!0,p.lang="en-US",p.onresult=e=>{let t=e.resultIndex,a=e.results[t][0].transcript;l(a),e.results[t].isFinal&&h(a.toLowerCase())},p.onerror=e=>{let t="Error occurred in recognition: ".concat(e.error);c(t),f(t),a(!1)},p.onend=()=>{a(!1)},()=>{null==p||p.stop()}},[p]);let h=t=>{let a=e=>{c(e),f(e)};if(a('Processing: "'.concat(t,'"')),t.includes("open")||t.includes("go to")||t.includes("navigate to")){for(let[s,r]of Object.entries({home:"/",about:"/about",dashboard:"/dashboard",profile:"/profile",scoreboard:"/scoreboard",playlist:"/playlist","privacy policy":"/privacy-policy",settings:"/settings","personal library":"/personal-library","team activity":"/team-activity"}))if(t.includes(s)){a("Navigating to ".concat(s," page")),e.push(r);return}a('Route not found. Try saying "open about," "open dashboard," or "open profile."');return}if(t.includes("click")){let e=t.match(/click\s+(.+)/);if(e){let t=e[1].trim(),s=document.querySelectorAll("button, a"),r=!1;s.forEach(e=>{var s,i;let n=null==(s=e.textContent)?void 0:s.toLowerCase().trim(),o=null==(i=e.getAttribute("aria-label"))?void 0:i.toLowerCase().trim();(n===t||o===t)&&(e.click(),a('Clicked "'.concat(t,'"')),r=!0)}),r||a('No button or link found with text "'.concat(t,'". Try saying the category name, e.g., "click leadership".'));return}}if(t.includes("fill")||t.includes("enter")){let e=t.match(/(?:fill|enter)\s+(\w+)\s+(?:with|as)\s+(.+)/);if(e){let[t,s,r]=e,i=document.querySelector('input[name="'.concat(s,'"], input[id="').concat(s,'"], input[placeholder*="').concat(s,'"]'));i?(i.value=r,i.dispatchEvent(new Event("input",{bubbles:!0})),a('Filled "'.concat(s,'" with "').concat(r,'"'))):a('No input field found for "'.concat(s,'".'));return}}a('Command not recognized. Try "open dashboard", "click leadership", or "fill username with john".')};return(0,s.jsxs)("div",{className:o().assistant,children:[(0,s.jsx)("button",{onClick:()=>{if(p)if(t)p.stop(),a(!1);else{l("");let e="Listening...";c(e),f(e),p.start(),a(!0)}},className:"".concat(o().button," ").concat(t?o().listening:""),"aria-label":t?"Stop listening":"Start voice command",children:t?"Stop":"Speak"}),(0,s.jsx)("p",{className:o().feedback,children:d}),n&&(0,s.jsxs)("p",{className:o().transcript,children:['Heard: "',n,'"']})]})}},4039:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>b});var s=a(5155),r=a(4540),i=a(7730),n=a(6439),o=a(1328),l=a(8091),d=a(7267),c=a(5131),u=a(6733),p=a(5874);let f={key:"root",storage:l.A},h=(0,o.rL)(f,d.Ay),m=(0,n.U1)({reducer:{auth:h,tutorial:c.Ay,resetPassword:u.Ay,settings:p.Ay},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST"]}})}),g=(0,o.GM)(m);function b(e){let{children:t}=e;return(0,s.jsx)(r.Kq,{store:m,children:(0,s.jsx)(i.Q,{loading:null,persistor:g,children:t})})}},5131:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n,uu:()=>r});let s=(0,a(6439).Z0)({name:"tutorial",initialState:{selectedTutorial:(()=>{{let e=sessionStorage.getItem("selectedTutorial");return e?JSON.parse(e):null}})()},reducers:{setSelectedTutorial:(e,t)=>{e.selectedTutorial=t.payload,sessionStorage.setItem("selectedTutorial",JSON.stringify(t.payload))},clearSelectedTutorial:e=>{e.selectedTutorial=null,sessionStorage.removeItem("selectedTutorial")}}}),{setSelectedTutorial:r,clearSelectedTutorial:i}=s.actions,n=s.reducer},5874:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n,LO:()=>i,xC:()=>r});let s=(0,a(6439).Z0)({name:"settings",initialState:{language:localStorage.getItem("language")||"en",voice:localStorage.getItem("voice")||"alloy"},reducers:{setLanguage:(e,t)=>{e.language=t.payload,localStorage.setItem("language",t.payload)},setVoice:(e,t)=>{e.voice=t.payload,localStorage.setItem("voice",t.payload)}}}),{setLanguage:r,setVoice:i}=s.actions,n=s.reducer},6733:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>d,dd:()=>n,gN:()=>o});var s=a(6439);let r=(()=>{try{let e=sessionStorage.getItem("resetPasswordState");if(null===e)return{userId:null,userType:null,status:"idle",error:null};return JSON.parse(e)}catch(e){return{userId:null,userType:null,status:"idle",error:null}}})(),i=(0,s.Z0)({name:"resetPassword",initialState:r,reducers:{setResetPasswordData:(e,t)=>{e.userId=t.payload.userId,e.userType=t.payload.userType,e.status="succeeded";try{let t=JSON.stringify(e);sessionStorage.setItem("resetPasswordState",t)}catch(e){console.error("Failed to save state to sessionStorage:",e)}},clearResetPasswordData:e=>{e.userId=null,e.userType=null,e.status="idle",e.error=null;try{sessionStorage.removeItem("resetPasswordState")}catch(e){console.error("Failed to clear state from sessionStorage:",e)}},setError:(e,t)=>{e.error=t.payload,e.status="failed";try{let t=JSON.stringify(e);sessionStorage.setItem("resetPasswordState",t)}catch(e){console.error("Failed to save state to sessionStorage:",e)}}}}),{setResetPasswordData:n,clearResetPasswordData:o,setError:l}=i.actions,d=i.reducer},6925:e=>{e.exports={assistant:"VoiceAssistant_assistant__vuS4C",button:"VoiceAssistant_button__929vt",listening:"VoiceAssistant_listening__xkAve",feedback:"VoiceAssistant_feedback__6dxQU",transcript:"VoiceAssistant_transcript__LLsok"}},7267:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o,iD:()=>r,r7:()=>n,ri:()=>i});let s=(0,a(6439).Z0)({name:"auth",initialState:{user:null},reducers:{login:(e,t)=>{e.user=t.payload},updateProfile(e,t){e.user={...e.user,...t.payload}},logout:e=>{e.user=null}}}),{login:r,logout:i,updateProfile:n}=s.actions,o=s.reducer},8197:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=async e=>{let[t,a,s]=e,r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(a)});if(!r.ok)throw Error("Failed to fetch data");return r.json()}},9303:(e,t,a)=>{"use strict";a.d(t,{Hr:()=>u,Ht:()=>p,SQ:()=>d,_2:()=>c,lp:()=>f,mB:()=>h,rI:()=>o,ty:()=>l});var s=a(5155);a(2115);var r=a(8698),i=a(9428),n=a(9433);function o(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"dropdown-menu",...t})}function l(e){let{...t}=e;return(0,s.jsx)(r.l9,{"data-slot":"dropdown-menu-trigger",...t})}function d(e){let{className:t,sideOffset:a=4,...i}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsx)(r.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...i})})}function c(e){let{className:t,inset:a,variant:i="default",...o}=e;return(0,s.jsx)(r.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":i,className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o})}function u(e){let{...t}=e;return(0,s.jsx)(r.z6,{"data-slot":"dropdown-menu-radio-group",...t})}function p(e){let{className:t,children:a,...o}=e;return(0,s.jsxs)(r.hN,{"data-slot":"dropdown-menu-radio-item",className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[(0,s.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(i.A,{className:"size-2 fill-current"})})}),a]})}function f(e){let{className:t,inset:a,...i}=e;return(0,s.jsx)(r.JU,{"data-slot":"dropdown-menu-label","data-inset":a,className:(0,n.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...i})}function h(e){let{className:t,...a}=e;return(0,s.jsx)(r.wv,{"data-slot":"dropdown-menu-separator",className:(0,n.cn)("bg-border -mx-1 my-1 h-px",t),...a})}},9324:()=>{},9433:(e,t,a)=>{"use strict";a.d(t,{Yq:()=>o,al:()=>n,cn:()=>i,pp:()=>l});var s=a(2596),r=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}let n=async(e,t)=>{try{let a=await fetch("".concat("http://35.202.100.254/oe","/api/admin/get-count-of-lib-and-avg-rating"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,user_type:"manager"===t?t:"user"})});if(!a.ok)throw Error("Error ".concat(a.status,": ").concat(a.statusText));return(await a.json()).data}catch(e){return console.error("Failed to fetch count and rating:",e),null}},o=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},9761:(e,t,a)=>{"use strict";a.d(t,{default:()=>eh});var s=a(5155),r=a(5695),i=a(2115),n=a(9708),o=a(2085),l=a(2432),d=a(9433),c=a(1978);a(350);var u=a(7489);function p(e){let{className:t,orientation:a="horizontal",decorative:r=!0,...i}=e;return(0,s.jsx)(u.b,{"data-slot":"separator-root",decorative:r,orientation:a,className:(0,d.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}var f=a(5452),h=a(4416);function m(e){let{...t}=e;return(0,s.jsx)(f.bL,{"data-slot":"sheet",...t})}function g(e){let{...t}=e;return(0,s.jsx)(f.ZL,{"data-slot":"sheet-portal",...t})}function b(e){let{className:t,...a}=e;return(0,s.jsx)(f.hJ,{"data-slot":"sheet-overlay",className:(0,d.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function x(e){let{className:t,children:a,side:r="right",...i}=e;return(0,s.jsxs)(g,{children:[(0,s.jsx)(b,{}),(0,s.jsxs)(f.UC,{"data-slot":"sheet-content",className:(0,d.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...i,children:[a,(0,s.jsxs)(f.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,s.jsx)(h.A,{className:"size-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function v(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sheet-header",className:(0,d.cn)("flex flex-col gap-1.5 p-4",t),...a})}function y(e){let{className:t,...a}=e;return(0,s.jsx)(f.hE,{"data-slot":"sheet-title",className:(0,d.cn)("text-foreground font-semibold",t),...a})}function w(e){let{className:t,...a}=e;return(0,s.jsx)(f.VY,{"data-slot":"sheet-description",className:(0,d.cn)("text-muted-foreground text-sm",t),...a})}var j=a(3921);function N(e){let{delayDuration:t=0,...a}=e;return(0,s.jsx)(j.Kq,{"data-slot":"tooltip-provider",delayDuration:t,...a})}function k(e){let{...t}=e;return(0,s.jsx)(N,{children:(0,s.jsx)(j.bL,{"data-slot":"tooltip",...t})})}function S(e){let{...t}=e;return(0,s.jsx)(j.l9,{"data-slot":"tooltip-trigger",...t})}function _(e){let{className:t,sideOffset:a=0,children:r,...i}=e;return(0,s.jsx)(j.ZL,{children:(0,s.jsxs)(j.UC,{"data-slot":"tooltip-content",sideOffset:a,className:(0,d.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...i,children:[r,(0,s.jsx)(j.i3,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}let z=i.createContext(null);function A(){let e=i.useContext(z);if(!e)throw Error("useSidebar must be used within a SidebarProvider.");return e}function C(e){let{defaultOpen:t=!0,open:a,onOpenChange:r,className:n,style:o,children:l,...c}=e,u=function(){let[e,t]=i.useState(void 0);return i.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}(),[p,f]=i.useState(!1),[h,m]=i.useState(t),g=null!=a?a:h,b=i.useCallback(e=>{let t="function"==typeof e?e(g):e;r?r(t):m(t),document.cookie="".concat("sidebar_state","=").concat(t,"; path=/; max-age=").concat(604800)},[r,g]),x=i.useCallback(()=>u?f(e=>!e):b(e=>!e),[u,b,f]);i.useEffect(()=>{let e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),x())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[x]);let v=g?"expanded":"collapsed",y=i.useMemo(()=>({state:v,open:g,setOpen:b,isMobile:u,openMobile:p,setOpenMobile:f,toggleSidebar:x}),[v,g,b,u,p,f,x]);return(0,s.jsx)(z.Provider,{value:y,children:(0,s.jsx)(N,{delayDuration:0,children:(0,s.jsx)("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem",...o},className:(0,d.cn)("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...c,children:l})})})}function P(e){let{side:t="left",variant:a="sidebar",collapsible:r="offcanvas",className:i,children:n,...o}=e,{isMobile:l,state:c,openMobile:u,setOpenMobile:p}=A();return"none"===r?(0,s.jsx)("div",{"data-slot":"sidebar",className:(0,d.cn)("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",i),...o,children:n}):l?(0,s.jsx)(m,{open:u,onOpenChange:p,...o,children:(0,s.jsxs)(x,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:[(0,s.jsxs)(v,{className:"sr-only",children:[(0,s.jsx)(y,{children:"Sidebar"}),(0,s.jsx)(w,{children:"Displays the mobile sidebar."})]}),(0,s.jsx)("div",{className:"flex h-full w-full flex-col",children:n})]})}):(0,s.jsxs)("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":c,"data-collapsible":"collapsed"===c?r:"","data-variant":a,"data-side":t,"data-slot":"sidebar",children:[(0,s.jsx)("div",{"data-slot":"sidebar-gap",className:(0,d.cn)("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===a||"inset"===a?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),(0,s.jsx)("div",{"data-slot":"sidebar-container",className:(0,d.cn)("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===a||"inset"===a?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",i),...o,children:(0,s.jsx)("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:n})})]})}function T(e){let{className:t,onClick:a,...r}=e,{toggleSidebar:i}=A();return(0,s.jsxs)(c.$,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:(0,d.cn)("size-7",t),onClick:e=>{null==a||a(e),i()},...r,children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function E(e){let{className:t,...a}=e,{toggleSidebar:r}=A();return(0,s.jsx)("button",{"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:(0,d.cn)("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...a})}function L(e){let{className:t,...a}=e;return(0,s.jsx)("main",{"data-slot":"sidebar-inset",className:(0,d.cn)("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",t),...a})}function I(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:(0,d.cn)("flex flex-col gap-2 p-2",t),...a})}function O(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:(0,d.cn)("flex flex-col gap-2 p-2",t),...a})}function U(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:(0,d.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...a})}function D(e){let{className:t,...a}=e;return(0,s.jsx)("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:(0,d.cn)("flex w-full min-w-0 flex-col gap-1",t),...a})}function F(e){let{className:t,...a}=e;return(0,s.jsx)("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:(0,d.cn)("group/menu-item relative",t),...a})}let V=(0,o.F)("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function J(e){let{asChild:t=!1,isActive:a=!1,variant:r="default",size:i="default",tooltip:o,className:l,...c}=e,u=t?n.DX:"button",{isMobile:p,state:f}=A(),h=(0,s.jsx)(u,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":i,"data-active":a,className:(0,d.cn)(V({variant:r,size:i}),l),...c});return o?("string"==typeof o&&(o={children:o}),(0,s.jsxs)(k,{children:[(0,s.jsx)(S,{asChild:!0,children:h}),(0,s.jsx)(_,{side:"right",align:"center",hidden:"collapsed"!==f||p,...o})]})):h}var R=a(4540),q=a(7267),Z=a(6874),Q=a.n(Z),$=a(7340),M=a(8719),W=a(9448),Y=a(6758),B=a(381),H=a(1284),K=a(5525),X=a(3089),G=a(9249),ee=a(4835);a(1680);var et=a(6766);function ea(){let e=(0,R.wA)(),t=(0,r.useRouter)(),a=(0,r.usePathname)(),i=(0,R.d4)(e=>e.auth.user),{setOpenMobile:n,isMobile:o}=A(),l=()=>{e((0,q.ri)()),t.push("/auth/login")},d=[{name:"Dashboard",path:"/dashboard",icon:$.A},{name:"Personal Library",path:"/personal-library",icon:M.A},{name:"Socreboard",path:"/scoreboard",icon:W.A},{name:"Playlist",path:"/playlist",icon:Y.A},{name:"Settings",path:"/settings",icon:B.A},{name:"About Us",path:"/about",icon:H.A},{name:"Privacy Policy",path:"/privacy-policy",icon:K.A},{name:"Introduction Video",path:"/intro-video",icon:X.A},...(null==i?void 0:i.user_type)==="manager"?[{name:"Your Team Activity",path:"/team-activity",icon:G.A}]:[]];return(0,s.jsxs)(P,{children:[(0,s.jsx)(I,{children:(0,s.jsx)(D,{children:(0,s.jsx)(F,{children:(0,s.jsxs)(J,{size:"lg",onClick:()=>{o&&n(!1),t.push("/dashboard")},children:[(0,s.jsx)("div",{className:"flex aspect-square size-8 items-center justify-center rounded-lg text-sidebar-primary-foreground",children:(0,s.jsx)(et.default,{className:"border rounded-full",src:"/assets/images/concise5logo.webp",width:400,height:400,alt:"logo"})}),(0,s.jsxs)("div",{className:"flex flex-col gap-1 leading-none",children:[(0,s.jsx)("span",{className:"font-semibold",children:"App"}),(0,s.jsx)("span",{className:"capitalize",children:(null==i?void 0:i.user_type)||"User"})]})]})})})}),(0,s.jsx)(U,{children:(0,s.jsx)(D,{className:"space-y-3 mt-10 px-2",children:d.map(e=>(0,s.jsx)(Q(),{href:e.path,children:(0,s.jsx)(F,{children:(0,s.jsxs)(J,{className:"rounded-md hover:bg-gray-200 cursor-pointer",isActive:a===e.path,tooltip:e.name,children:[(0,s.jsx)(e.icon,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:e.name})]})})},e.path))})}),(0,s.jsx)(O,{children:(0,s.jsx)(D,{children:(0,s.jsx)(F,{children:(0,s.jsxs)(J,{onClick:()=>{o&&n(!1),l()},tooltip:"Logout",children:[(0,s.jsx)(ee.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Logout"})]})})})}),(0,s.jsx)(E,{})]})}var es=a(3861),er=a(1007),ei=a(9303),en=a(4011);function eo(e){let{className:t,...a}=e;return(0,s.jsx)(en.bL,{"data-slot":"avatar",className:(0,d.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function el(e){let{className:t,...a}=e;return(0,s.jsx)(en._V,{"data-slot":"avatar-image",className:(0,d.cn)("aspect-square size-full",t),...a})}function ed(e){let{className:t,...a}=e;return(0,s.jsx)(en.H4,{"data-slot":"avatar-fallback",className:(0,d.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}var ec=a(6671),eu=a(6072),ep=a(8197);function ef(){var e,t;let a=(0,R.d4)(e=>e.auth.user),i=(0,R.wA)(),n=(0,r.useRouter)(),o={user_type:null==a?void 0:a.user_type,notification_for:null==a?void 0:a.user_id,pageSize:15},{data:l,error:u,isLoading:f,mutate:h}=(0,eu.Ay)(a?["".concat("http://35.202.100.254/oe","/api/admin/get-notifications"),o,a.Token]:null,ep.A),m=async()=>{try{let e=await fetch("".concat("http://35.202.100.254/oe","/api/admin/update-notifications"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_type:null==a?void 0:a.user_type,notification_for:null==a?void 0:a.user_id})});if(e.ok){let t=await e.json();ec.o.success(t.message||"All notifications marked as read"),l&&l.data&&h({...l,data:l.data.map(e=>({...e,seen:1})),unseen:0},!1)}else ec.o.error("Failed to mark notifications as read")}catch(e){console.error("Error marking all notifications as read:",e),ec.o.error("Error marking notifications as read")}},g=async e=>{try{let t=await fetch("".concat("http://35.202.100.254/oe","/api/admin/update-single-notifications"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({notification_id:e})});if(t.ok){let a=await t.json();ec.o.success(a.message),h({...l,data:l.data.map(t=>t.id===e?{...t,seen:1}:t),unseen:l.unseen>0?l.unseen-1:0},!1)}else ec.o.error("Failed to mark notification as read")}catch(e){console.error("Error marking notification as read:",e),ec.o.error("Error marking notification as read")}};return(0,s.jsxs)("header",{className:"flex sticky z-10 top-0 bg-white shadow-md h-16 shrink-0 items-center justify-between border-b px-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(T,{className:"-ml-1"}),(0,s.jsx)(p,{orientation:"vertical",className:"h-6"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(ei.rI,{children:[(0,s.jsx)(ei.ty,{asChild:!0,children:(0,s.jsxs)(c.$,{variant:"ghost",size:"icon",className:"relative",children:[(0,s.jsx)(es.A,{className:"h-5 w-5"}),(null==l?void 0:l.unseen)>0&&(0,s.jsx)("span",{className:"absolute -right-1 -top-1 flex h-5 min-w-5 items-center justify-center rounded-full bg-red-500 text-xs font-medium text-white",children:l.unseen})]})}),(0,s.jsxs)(ei.SQ,{align:"end",className:"w-80",children:[(0,s.jsxs)(ei.lp,{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{children:"Notifications"}),(null==l?void 0:l.unseen)>0&&(0,s.jsx)(c.$,{variant:"ghost",size:"sm",onClick:m,className:"text-xs",children:"Mark all as read"})]}),(0,s.jsx)(ei.mB,{}),(null==l||null==(e=l.data)?void 0:e.length)>0?l.data.map(e=>(0,s.jsx)(ei._2,{title:e.description,onClick:()=>g(e.id),className:"cursor-default p-0",children:(0,s.jsxs)("div",{className:"flex w-full gap-2 p-3",children:[0===e.seen&&(0,s.jsx)("div",{className:"mt-1.5 h-2 w-2 shrink-0 rounded-full bg-blue-500"}),(0,s.jsxs)("div",{className:"flex flex-col ".concat(0===e.seen?"":"pl-4"),children:[(0,s.jsxs)("div",{className:"flex w-full justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:e.title}),(0,s.jsx)("span",{className:"ml-2 shrink-0 text-xs text-muted-foreground",children:(0,d.Yq)(e.created_at)})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]})]})},e.id)):(0,s.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No notifications"})]})]}),(0,s.jsxs)(ei.rI,{children:[(0,s.jsx)(ei.ty,{asChild:!0,children:(0,s.jsxs)(eo,{className:"cursor-pointer border-[3px]",children:[(0,s.jsx)(el,{src:a&&a.profile_image&&""!==a.profile_image?"".concat("http://35.202.100.254/oe","/").concat(a.profile_image):"/assets/images/concise5logo.webp",alt:"User"}),(0,s.jsx)(ed,{children:(null==a||null==(t=a.name)?void 0:t[0])||"U"})]})}),(0,s.jsxs)(ei.SQ,{align:"end",children:[(0,s.jsx)(ei.lp,{children:"My Account"}),(0,s.jsx)(ei.mB,{}),(0,s.jsx)(Q(),{href:"/profile",children:(0,s.jsxs)(ei._2,{className:"cursor-pointer",children:[(0,s.jsx)(er.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Profile"})]})}),(0,s.jsxs)(ei._2,{className:"cursor-pointer",onClick:()=>{i((0,q.ri)()),ec.o.success("Successfully logged out"),setTimeout(()=>{n.replace("/auth/login")},2e3)},children:[(0,s.jsx)(ee.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Logout"})]})]})]})]})]})}function eh(e){let{children:t}=e,a=(0,r.usePathname)(),i=(0,R.d4)(e=>e.auth.user);return"/"===a&&null==i||"/auth/login"===a||"/auth/forgot-password"===a||"/auth/confirm-otp"===a||"/auth/reset-password"===a?t:(0,s.jsxs)(C,{children:[(0,s.jsx)(ea,{}),(0,s.jsxs)(L,{children:[(0,s.jsx)(ef,{}),(0,s.jsx)("main",{className:"flex-1 overflow-auto",children:t})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2684,4540,2848,3063,6072,6439,6774,6874,7222,8250,2148,8749,8755,8441,1684,7358],()=>t(801)),_N_E=e.O()}]);