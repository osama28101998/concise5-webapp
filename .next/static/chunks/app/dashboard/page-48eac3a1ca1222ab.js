(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5105],{28:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var a=r(5155),n=r(4540);r(7267);var s=r(1978),o=r(5695);r(6766);var i=r(6874),l=r.n(i);let c=(0,r(9946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var d=r(3800),u=r(2115);r(6671);var m=r(692),f=r(6072),h=r(9433),g=r(8197);let p=[{base:"bg-blue-700",hover:"hover:bg-blue-600"},{base:"bg-fuchsia-700",hover:"hover:bg-fuchsia-600"},{base:"bg-yellow-700",hover:"hover:bg-yellow-600"},{base:"bg-red-700",hover:"hover:bg-red-600"},{base:"bg-green-700",hover:"hover:bg-green-600"}];function v(){(0,n.wA)();let e=(0,n.d4)(e=>e.auth.user);console.log("\uD83D\uDE80 ~ DashboardPage ~ user:",e);let[t,r]=(0,u.useState)(0),[i,v]=(0,u.useState)(0),[x,b]=(0,u.useState)([]);(0,o.useRouter)();let y={userId:null==e?void 0:e.user_id,type:(null==e?void 0:e.user_type)==="manager"?e.user_type:"user"},{data:w,error:j,isLoading:N}=(0,f.Ay)(e?["".concat("http://35.202.100.254/oe","/api/admin/mb-title-sub-categories-by-tutorial-count-by-user-id-cat-filter\n"),y,e.Token]:null,g.A);return((0,u.useEffect)(()=>{w&&b((null==w?void 0:w.data)||[])},[w]),(0,u.useEffect)(()=>{let t=async()=>{try{let t=await (0,h.al)(e.user_id,e.user_type);t&&(r((null==t?void 0:t.count_reviewed)||0),v((null==t?void 0:t.percentage)||0))}catch(e){console.error("Error fetching count and rating:",e)}};e&&t()},[e]),e)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("title",{children:"Concise-5 | Dashboard"}),(0,a.jsxs)("section",{className:"flex flex-col max-w-7xl mx-auto  p-5",children:[N&&(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsx)(m.A,{color:"black",size:40})}),!N&&x.length>0&&(0,a.jsxs)("main",{className:"",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold mb-2",children:["Hello ",e.first_name,"!"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-5",children:[(0,a.jsxs)(d.Zp,{className:"px-2 gap-2 text-center flex flex-col items-center justify-center",children:[(0,a.jsx)("p",{lang:"fr",className:"text-blue-500 font-medium text-xs sm:text-sm mb-2",children:"TOTAL TUTORIALS TAKEN BY YOU"}),(0,a.jsx)("p",{className:"text-blue-500 text-3xl sm:text-5xl font-bold",children:t})]}),(0,a.jsxs)(d.Zp,{className:"px-2 gap-2 text-center flex flex-col items-center justify-center",children:[(0,a.jsx)("p",{className:"text-blue-500 font-medium text-xs sm:text-sm mb-2",children:"PERCENTAGE OF TUTORIALS THAT YOU FOUND VALUABLE"}),(0,a.jsxs)("p",{className:"text-blue-500 text-3xl sm:text-5xl font-bold",children:[i,"%"]})]})]})]}),(0,a.jsxs)("div",{className:"mb-5",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-center mb-5",children:["CHOOSE ANY CATEGORY OF",(0,a.jsx)("br",{}),"5-MINUTE TUTORIALS"]}),(0,a.jsx)("div",{className:"flex items-center   justify-center flex-col gap-4",children:null==x?void 0:x.map((e,t)=>{let r=p[t%p.length];return(0,a.jsx)(s.$,{asChild:!0,onClick:()=>console.log(e),className:"max-w-2xl w-full justify-between py-6 text-xl ".concat(r.base," ").concat(r.hover),children:(0,a.jsxs)(l(),{href:"/dashboard/".concat(e.sub_category_id),children:[e.sub_category_name,(0,a.jsx)(c,{className:"h-10 w-10"})]})},e.sub_category_id)})})]})]}),!N&&0===x.length&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center mt-10 text-gray-500",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"No tutorials found."}),(0,a.jsx)("p",{children:"Please check back later or contact your manager for more content."})]})]})]}):null}},692:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(2115),n={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function s(e){var t=function(e){if("number"==typeof e)return{value:e,unit:"px"};var t,r=(e.match(/^[0-9.]*/)||"").toString();t=r.includes(".")?parseFloat(r):parseInt(r,10);var a=(e.match(/[^0-9]*$/)||"").toString();return n[a]?{value:t,unit:a}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},i=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},l=function(e,t,r){var a="react-spinners-".concat(e,"-").concat(r);if("undefined"==typeof window||!window.document)return a;var n=document.createElement("style");document.head.appendChild(n);var s=n.sheet,o="\n    @keyframes ".concat(a," {\n      ").concat(t,"\n    }\n  ");return s&&s.insertRule(o,0),a}("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");let c=function(e){var t=e.loading,r=e.color,n=void 0===r?"#000000":r,c=e.speedMultiplier,d=e.cssOverride,u=e.size,m=void 0===u?35:u,f=i(e,["loading","color","speedMultiplier","cssOverride","size"]),h=o({background:"transparent !important",width:s(m),height:s(m),borderRadius:"100%",border:"2px solid",borderTopColor:n,borderBottomColor:"transparent",borderLeftColor:n,borderRightColor:n,display:"inline-block",animation:"".concat(l," ").concat(.75/(void 0===c?1:c),"s 0s infinite linear"),animationFillMode:"both"},void 0===d?{}:d);return void 0===t||t?a.createElement("span",o({style:h},f)):null}},1469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return l},getImageProps:function(){return i}});let a=r(8229),n=r(8883),s=r(3063),o=a._(r(1193));function i(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let l=s.Image},1978:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(5155);r(2115);var n=r(9708),s=r(2085),o=r(9433);let i=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:s,asChild:l=!1,...c}=e,d=l?n.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,o.cn)(i({variant:r,size:s,className:t})),...c})}},3800:(e,t,r)=>{"use strict";r.d(t,{Wu:()=>l,ZB:()=>i,Zp:()=>s,aR:()=>o,wL:()=>c});var a=r(5155);r(2115);var n=r(9433);function s(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("px-6",t),...r})}function c(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center px-6 [.border-t]:pt-6",t),...r})}},5307:(e,t,r)=>{Promise.resolve().then(r.bind(r,28))},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"redirect")&&r.d(t,{redirect:function(){return a.redirect}}),r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},6766:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var a=r(1469),n=r.n(a)},7267:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>i,iD:()=>n,r7:()=>o,ri:()=>s});let a=(0,r(6439).Z0)({name:"auth",initialState:{user:null},reducers:{login:(e,t)=>{e.user=t.payload},updateProfile(e,t){e.user={...e.user,...t.payload}},logout:e=>{e.user=null}}}),{login:n,logout:s,updateProfile:o}=a.actions,i=a.reducer},8197:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=async e=>{let[t,r,a]=e,n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(r)});if(!n.ok)throw Error("Failed to fetch data");return n.json()}},9433:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>i,al:()=>o,cn:()=>s,pp:()=>l});var a=r(2596),n=r(9688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}let o=async(e,t)=>{try{let r=await fetch("".concat("http://35.202.100.254/oe","/api/admin/get-count-of-lib-and-avg-rating"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,user_type:"manager"===t?t:"user"})});if(!r.ok)throw Error("Error ".concat(r.status,": ").concat(r.statusText));return(await r.json()).data}catch(e){return console.error("Failed to fetch count and rating:",e),null}},i=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(2115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:d="",children:u,iconNode:m,...f}=e;return(0,a.createElement)("svg",{ref:t,...c,width:n,height:n,stroke:r,strokeWidth:o?24*Number(s)/Number(n):s,className:i("lucide",d),...!u&&!l(f)&&{"aria-hidden":"true"},...f},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:l,...c}=r;return(0,a.createElement)(d,{ref:s,iconNode:t,className:i("lucide-".concat(n(o(e))),"lucide-".concat(e),l),...c})});return r.displayName=o(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[4540,2848,3063,6072,6439,6774,6874,8441,1684,7358],()=>t(5307)),_N_E=e.O()}]);