(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[625],{1680:(e,t,r)=>{"use strict";r.d(t,{$m:()=>c,As:()=>o,nD:()=>i,ub:()=>u});var a=r(5155);r(2115);var l=r(3478),s=r(6474),n=r(9433);function i(e){let{...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"accordion",...t})}function o(e){let{className:t,...r}=e;return(0,a.jsx)(l.q7,{"data-slot":"accordion-item",className:(0,n.cn)("border-b last:border-b-0",t),...r})}function c(e){let{className:t,children:r,...i}=e;return(0,a.jsx)(l.Y9,{className:"flex",children:(0,a.jsxs)(l.l9,{"data-slot":"accordion-trigger",className:(0,n.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",t),...i,children:[r,(0,a.jsx)(s.A,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function u(e){let{className:t,children:r,...s}=e;return(0,a.jsx)(l.UC,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...s,children:(0,a.jsx)("div",{className:(0,n.cn)("pt-0 pb-4",t),children:r})})}},4870:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},5131:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>n,uu:()=>l});let a=(0,r(6439).Z0)({name:"tutorial",initialState:{selectedTutorial:(()=>{{let e=sessionStorage.getItem("selectedTutorial");return e?JSON.parse(e):null}})()},reducers:{setSelectedTutorial:(e,t)=>{e.selectedTutorial=t.payload,sessionStorage.setItem("selectedTutorial",JSON.stringify(t.payload))},clearSelectedTutorial:e=>{e.selectedTutorial=null,sessionStorage.removeItem("selectedTutorial")}}}),{setSelectedTutorial:l,clearSelectedTutorial:s}=a.actions,n=a.reducer},5196:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return l}});let a=r(2115);function l(e,t){let r=(0,a.useRef)(null),l=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=l.current;t&&(l.current=null,t())}else e&&(r.current=s(e,a)),t&&(l.current=s(t,a))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7822:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(5155),l=r(4870),s=r(5196),n=r(7434),i=r(4540),o=r(6072),c=r(8197),u=r(6874),d=r.n(u),h=r(1680),m=r(2115),f=r(9433),b=r(5695),p=r(5131);let x=[{base:"bg-blue-700",hover:"hover:bg-blue-600",text:"text-white"},{base:"bg-fuchsia-700",hover:"hover:bg-fuchsia-600",text:"text-white"},{base:"bg-yellow-700",hover:"hover:bg-yellow-600",text:"text-white"},{base:"bg-red-700",hover:"hover:bg-red-600",text:"text-white"},{base:"bg-green-700",hover:"hover:bg-green-600",text:"text-white"}],g=()=>{let[e,t]=(0,m.useState)([]),[r,u]=(0,m.useState)({}),[g,y]=(0,m.useState)(null),v=(0,i.wA)(),j=(0,i.d4)(e=>e.auth.user),w=(0,b.useRouter)(),_={userId:null==j?void 0:j.user_id,type:(null==j?void 0:j.user_type)==="manager"?j.user_type:"user"},{data:N,error:k,isLoading:S}=(0,o.Ay)(j?["".concat("http://35.202.100.254/oe","/api/admin/mb-title-sub-categories-by-tutorial-count-by-user-id"),_,j.Token]:null,c.A);(0,m.useEffect)(()=>{(null==N?void 0:N.data)&&t(N.data)},[N]);let A=async e=>{if(r[e])return;y(e);let t={user_id:j.user_id,filter:"reviewed",type:"manager"===j.user_type?j.user_type:"user",categoryId:e};console.log("\uD83D\uDE80 ~ handleAccordionClick ~ payload:",t);try{let r=await fetch("".concat("http://35.202.100.254/oe","/api/admin/mb-get-titles-for-library-by-pagination-filtered-by-categoryID"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});console.log("\uD83D\uDE80 ~ handleAccordionClick ~ res:",r);let a=await r.json();u(t=>({...t,[e]:(null==a?void 0:a.data)||[]}))}catch(t){console.error("Fetch error:",t),u(t=>({...t,[e]:[]}))}finally{y(null)}},T=e=>{console.log("\uD83D\uDE80 ~ handleClick ~ params:",e),v((0,p.uu)(e)),w.push("/personal-library/".concat(e.id))};return(0,a.jsxs)("section",{children:[(0,a.jsx)("title",{children:"Concise-5 | Personal Library"}),(0,a.jsx)("div",{className:"flex flex-col items-center p-5 space-y-5",children:(0,a.jsxs)("div",{className:"bg-blue-700 text-center text-white p-5 rounded-md w-full max-w-2xl",children:[null==j?void 0:j.first_name," Personal Library Of Tutorials Taken"]})}),S&&(0,a.jsx)("div",{className:"flex justify-center py-4",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),!S&&e&&(0,a.jsx)("div",{className:"flex items-center p-5 justify-center flex-col gap-4 w-full",children:(0,a.jsx)(h.nD,{type:"single",collapsible:!0,className:"w-full max-w-2xl",children:e.map((e,t)=>{var i;let o=x[t%x.length];return(0,a.jsxs)(h.As,{value:"item-".concat(e.sub_category_id),className:"mb-4 border-none",onClick:()=>A(e.sub_category_id),children:[(0,a.jsxs)(h.$m,{className:"".concat(o.base," ").concat(o.hover," ").concat(o.text," px-4 py-3 rounded-md text-xl font-medium [&>svg]:text-white  [&>svg]:stroke-[3]"),children:[e.sub_category_name," (",null==e?void 0:e.tutorial_count,")"]}),(0,a.jsx)(h.ub,{className:" py-3 mt-2  rounded-md",children:g===e.sub_category_id?(0,a.jsx)("p",{children:"Loading..."}):(null==(i=r[e.sub_category_id])?void 0:i.length)>0?r[e.sub_category_id].map(e=>(0,a.jsxs)("div",{onClick:()=>T(e),className:"border relative cursor-pointer space-y-3 rounded-lg border-l-8 border-l-blue-600 p-4 mb-2 bg-white shadow-sm",children:[(0,a.jsx)(l.A,{className:"text-white absolute right-3 top-2 bg-blue-600 rounded"}),(0,a.jsxs)("h2",{children:["Completed on: ",(0,f.pp)(e.reviewed_at)]}),(0,a.jsx)("h3",{className:"text-blue-600 font-bold text-lg",children:e.title_name}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm mt-1",children:[(0,a.jsx)("span",{className:"underline",children:"Skills Taught:"}),e.skills_taught]}),(0,a.jsx)("p",{className:"text-sm text-blue-600",children:"Was this tutorial valuable to you"}),(0,a.jsxs)("div",{className:"text-blue-600 justify-between max-w-16 w-full flex items-center",children:[(0,a.jsxs)("p",{className:"flex space-y-2 flex-col h-10",children:["Yes","yes"===e.satisfied&&(0,a.jsx)(s.A,{})]}),(0,a.jsxs)("p",{className:"flex flex-col h-10",children:["No","no"===e.satisfied&&(0,a.jsx)(s.A,{})]})]}),(0,a.jsxs)(d(),{href:"#",className:"text-blue-600 text-sm hover:underline flex items-center mt-2",children:[(0,a.jsx)(n.A,{className:"h-4 w-4 mr-1"})," View tutorial"]})]},e.id)):(0,a.jsx)("p",{className:"text-gray-500 italic",children:"No data found."})})]},e.sub_category_id)})})})]})}},8197:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=async e=>{let[t,r,a]=e,l=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(r)});if(!l.ok)throw Error("Failed to fetch data");return l.json()}},9433:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>i,al:()=>n,cn:()=>s,pp:()=>o});var a=r(2596),l=r(9688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,l.QP)((0,a.$)(t))}let n=async(e,t)=>{try{let r=await fetch("".concat("http://35.202.100.254/oe","/api/admin/get-count-of-lib-and-avg-rating"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,user_type:"manager"===t?t:"user"})});if(!r.ok)throw Error("Error ".concat(r.status,": ").concat(r.statusText));return(await r.json()).data}catch(e){return console.error("Failed to fetch count and rating:",e),null}},i=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),o=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},9901:(e,t,r)=>{Promise.resolve().then(r.bind(r,7822))}},e=>{var t=t=>e(e.s=t);e.O(0,[4540,2848,6072,6439,6874,7222,2148,3768,8441,1684,7358],()=>t(9901)),_N_E=e.O()}]);