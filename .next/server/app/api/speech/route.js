(()=>{var e={};e.id=780,e.ids=[780],e.modules={265:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>l,routeModule:()=>p,serverHooks:()=>c,workAsyncStorage:()=>u,workUnitAsyncStorage:()=>d});var o={};r.r(o),r.d(o,{POST:()=>i});var s=r(96559),n=r(48088),a=r(37719);async function i(e){if("POST"!==e.method)return NextResponse.json({error:"Method not allowed"},{status:405});try{let{text:t,voice:r}=await e.json(),o=[],s=0;for(;s<t.length;)o.push(t.slice(s,s+4096)),s+=4096;let n=[];for(let e of o){let t=await fetch("https://api.openai.com/v1/audio/speech",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${process.env.OPENAI_API_KEY}`},body:JSON.stringify({model:"tts-1",input:e,voice:r})});if(!t.ok)throw Error("Failed to fetch audio from OpenAI");let o=await t.arrayBuffer();n.push(o)}let a=new Uint8Array(n.reduce((e,t)=>e+t.byteLength,0)),i=0;for(let e of n)a.set(new Uint8Array(e),i),i+=e.byteLength;return new Response(a,{headers:{"Content-Type":"audio/mpeg"}})}catch(e){return console.error(e),NextResponse.json({error:"Failed to generate audio"},{status:500})}}let p=new s.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/speech/route",pathname:"/api/speech",filename:"route",bundlePath:"app/api/speech/route"},resolvedPagePath:"D:\\MULTISYN\\concise-5 deployment\\app\\api\\speech\\route.js",nextConfigOutput:"",userland:o}),{workAsyncStorage:u,workUnitAsyncStorage:d,serverHooks:c}=p;function l(){return(0,a.patchFetch)({workAsyncStorage:u,workUnitAsyncStorage:d})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},96487:()=>{},96559:(e,t,r)=>{"use strict";e.exports=r(44870)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[719],()=>r(265));module.exports=o})();